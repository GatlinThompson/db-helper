generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
  schemas   = ["auth", "public"]
}


/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model users {
  instance_id                 String?           @db.Uuid
  id                          String            @id @db.Uuid
  role                        String?           @db.VarChar(255)
  email                       String?           @db.VarChar(255)
  profiles                    profiles?
  @@schema("auth")
}

model profiles {
  id         BigInt @id @default(autoincrement())
  user_id    String @unique @db.Uuid
  first_name String
  last_name  String
  role       Role   @default(employee)
  user_email String @unique @map("email")
  users      users  @relation(fields: [user_id], references: [id], onDelete: Cascade)

  @@index([user_id], map: "idx_profiles_user_id")
  @@schema("public")
}

enum Role {
  employee
  manager
  trainer
  admin

  @@schema("public")
}
